---
title: "Section5"
output: html_document
---


```{r echo=FALSE}
library("ggplot2")
library("dplyr")
```
# Section５.統計的仮説検定

## Section5.1 統計的仮説検定の必要性

そもそもなぜ統計的に仮説を立てて、それが正しいのか検定する必要があるのか？
例えば大学生５０人のデータを無作為に集めたとしてそこから何らかに対しての相関性があるデータが
取れたとしても、それはあくまで母集団から抽出された標本のみにおいて見られた傾向であり、母集団ではそのような傾向がないかもしれない。

つまり仮説を立ててそこからその仮説が正しいっぽい何かが得られたとしても、そもそもその前提ってあってる？その仮説の検討の仕方あってる？ってところをちゃんと正しいことを示すために検定を行う。

## Section5.2 統計的仮説検定の手順と用語

仮説検定を行う手順は以下の様になる

 1. 母集団に関する帰無仮説と対立仮説を設定する
 
 　まずは母集団に対して○○はない、という帰無仮説を設定する。このとき例えば母平均はの差はないとか
 、相関性はないとか本来主張したいものと逆のものを設定することが多い。このとき設定仕方で両側検定なのか、片側検定なのかが決まる。ざっくり書くと大小関係を見るなら片側になる。
 
 2. 検定統計量を選ぶ
 
 　帰無仮説などの設定ができたら、どんな検定統計量にするかを設定する。これは（多分）帰無仮説を設定したらほぼ固定的に決まる。ほとんど自分では決めないし、Rの関数がよしなにやるっぽい。
 　
 3. 有意水準αの値を決める
 
   ここでは例えば２つのデータの母平均の差に有意な差があるかとかを検定する場合、実際にどの程度差があったら有意な差があるのか？を示すαの値を設定する。
 
 4. データから検定統計量の実現値を求める
 5. 帰無仮説を棄却するか、帰無仮説を採択するかを検定統計量の実現値から求める
 
### Section5.2.1 帰無仮説と対立仮説

統計的検定ではまず本来主張したい仮説と逆の主張を設定する。これを帰無仮説と呼ぶ。そしてこの仮説が棄却（否定）された場合に採択される仮説を対立仮説（本来主張したい仮説）と呼ぶ。それぞれH0、H1と呼んだりする。

## Section5.3 標準正規分布を用いた検定（Z検定）

例題：過去のデータの蓄積から、「心理学テスト」の得点は平均１２、分散１０の正規分布にしたがうことがしられている。つまりN（12, 10）。指導法データの２０人の心理学テスト得点は、この母集団からの無作為標本と考えてよいか？
統計量に関しては[Z検定](https://ja.wikipedia.org/wiki/Z%E6%A4%9C%E5%AE%9A)を参照

```{r}
test <- c(13, 14, 7, 12, 10, 6, 8, 15, 4, 14, 9, 6, 10, 12, 5, 12, 8, 8,12, 15)
zc <- mean(test) - 12
zm <- sqrt(10 / length(test))
z <- zc / zm
z
```

上記の計算でZ統計量が求まった。このとき標準正規分布および両側検定・有意水準5%における棄却域を求める。qnorm関数で棄却の臨界値を求められる。

```{r}
qnorm(0.025)
qnorm(0.975)
```

上記で求まる値の範囲外の場合、帰無仮説は棄却される。

このときZ値は棄却域に入っているため5%の水準において有意な差があったと言える。
